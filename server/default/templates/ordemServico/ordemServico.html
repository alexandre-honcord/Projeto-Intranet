{% extends 'index/index.html' %}
{% block title %}
    Abrir O.S.
{% endblock %}
{% load static %}

{% block ordemServico %}
<link rel="stylesheet" href="{% static '/resources/css/ordemServico.css' %}">
<div class="ordemServico" data-block="home">
    <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" id="osButton" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="true" aria-controls="flush-collapseOne">
                    Ordem de Serviço<span class="obrigatorio">&nbsp*</span>
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <ul class="nav nav-pills nav-fill gap-2 p-1 small rounded-5 shadow-sm" id="pillNav2" role="tablist" >
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="22" type="button" role="tab" aria-selected="false" onclick="toggleTipoOrdem(this)"> 
                                <i class="fa-solid fa-computer"></i> Tecnologia da Informação
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="27" type="button" role="tab" aria-selected="false" onclick="toggleTipoOrdem(this)"> 
                                <i class="fa-solid fa-palette"></i> Marketing
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="21" type="button" role="tab" aria-selected="false" onclick="toggleTipoOrdem(this)"> 
                                <i class="fa-solid fa-screwdriver-wrench"></i> Manutenção Predial
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link rounded-5 button-link" href="https://seoh.neovero.com/" target="_blank" role="tab" aria-selected="false">
                                <i class="fa-solid fa-gear"></i> Engenharia Clinica
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="30" type="button" role="tab" aria-selected="false" onclick="toggleTipoOrdem(this)"> 
                                <i class="fa-solid fa-car-rear"></i> Manutenção Veícular
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="accordion accordion-flush" id="accordionFlushExample2">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                    Classificação da Ordem de Serviço <span class="obrigatorio">&nbsp*</span>
                </button>
            </h2>
            <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample2">
                <div class="accordion-body">
                    <ul class="nav nav-pills nav-fill gap-2 p-1 small rounded-5 shadow-sm" role="tablist" >
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="E" type="button" role="tab" aria-selected="false" >Defeito</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="D" type="button" role="tab" aria-selected="false" >Dúvida</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="S" type="button" role="tab" aria-selected="false" >Solicitação</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="T" type="button" role="tab" aria-selected="false" >Sugestão</button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="accordion accordion-flush" id="accordionFlushExample3">
        <div class="accordion-item" id="tipoOrdemItem" style="display: none;">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    Tipo de Ordem de Serviço <span class="obrigatorio">&nbsp*</span>
                </button>
            </h2>
            <div id="flush-collapseThree" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <ul class="nav nav-pills nav-fill gap-2 p-1 small rounded-5 shadow-sm" role="tablist" >
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="21" type="button" role="tab" aria-selected="false">
                                Acessos</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="75" type="button" role="tab" aria-selected="false">
                                Desenvolvimento</button>
                            </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="23" type="button" role="tab" aria-selected="false">
                                Infraestrutura
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="20" type="button" role="tab" aria-selected="false">
                                Doc Manager
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="20" type="button" role="tab" aria-selected="false">
                                Weknow BI
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="18" type="button" role="tab" aria-selected="false">
                                Relatórios
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="22" type="button" role="tab" aria-selected="false">
                                Sistema Tasy
                            </button>
                        </li>
                        
                        <li class="nav-item" role="presentation">
                            <button class="nav-link rounded-5" data-bs-toggle="tab" data-value="13" type="button" role="tab" aria-selected="false">
                                Suporte
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <form id="ordemServicoForm" method="POST" action="{% url 'intra:processar_ordem_servico' %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Descrição <span class="obrigatorio">*</span></label>
            <input type="text" class="form-control" id="exampleFormControlInput1" name="descricao" required>

        

            <label for="exampleFormControlTextarea1" class="form-label">Dano <span class="obrigatorio">*</span></label>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="dano" required></textarea>

        

            <label for="formFileMultiple" class="form-label" >Anexo</label>
            <input class="form-control" type="file" id="formFileMultiple" multiple>
            <div class="button-holder" id="ordemServicoForm">
                <button type="submit" class="btn btn-sm btn-primary save"><span class="cancel-text">Salvar</span><i class="fa-solid fa-floppy-disk"></i></button>
                <button type="submit" id="cancelarBtn" class="btn btn-sm btn-primary cancel"><span class="cancel-text">Cancelar</span><i class="fa-solid fa-ban"></i></button>
            </div>
        </div>
    </form>


</div>
<script src="{% static '/resources/js/ordemServico.js' %}"></script>
{% endblock %}